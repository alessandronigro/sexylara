#!/bin/bash

# Script per setup AI Brain Engine Database
# Esegui questo script dopo aver copiato il contenuto di ddl.sql

echo "ğŸ§  AI BRAIN ENGINE - Database Setup"
echo "===================================="
echo ""
echo "ğŸ“‹ ISTRUZIONI:"
echo ""
echo "1. Apri Supabase Dashboard"
echo "2. Vai su 'SQL Editor'"
echo "3. Crea una nuova query"
echo "4. Copia TUTTO il contenuto di supabase/ddl.sql"
echo "5. Incolla nella query"
echo "6. Clicca 'Run'"
echo ""
echo "âœ… Tabelle che verranno create:"
echo "   - user_memory"
echo "   - ai_user_memory"
echo "   - group_memory"
echo "   - ai_relations"
echo "   - significant_events"
echo "   - ai_personality_evolution"
echo ""
echo "ğŸ“Š Indici e trigger verranno creati automaticamente"
echo ""
echo "âš ï¸  IMPORTANTE:"
echo "   Se le tabelle esistono giÃ , lo script le salterÃ  (IF NOT EXISTS)"
echo ""
echo "ğŸ” RLS (Row Level Security) verrÃ  abilitato"
echo "   Modifica le policy secondo le tue esigenze"
echo ""
echo "Premi INVIO quando hai completato l'operazione su Supabase..."
read

echo ""
echo "âœ… Setup completato!"
echo ""
echo "ğŸš€ Prossimi step:"
echo "   1. Riavvia il backend: pm2 restart all"
echo "   2. Testa una chat (1-to-1 o gruppo)"
echo "   3. Controlla i log: pm2 logs ws"
echo "   4. Verifica l'apprendimento nel database"
echo ""
echo "ğŸ“š Leggi backend/ai/README.md per dettagli"
echo ""
