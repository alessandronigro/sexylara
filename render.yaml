services:
  # API Service
  - type: web
    name: sexylara-api
    env: node
    buildCommand: cd backend && npm install
    startCommand: cd backend && npm run start:api
    plan: free
    envVars:
      - key: SUPABASE_URL
        sync: false
      - key: SUPABASE_SERVICE_ROLE_KEY
        sync: false
      - key: API_VENICE
        sync: false
      - key: ADDRESS_VENICE
        sync: false
      - key: MODEL_VENICE
        sync: false
      - key: REPLICATE_API_TOKEN
        sync: false

  # WebSocket Service
  - type: web
    name: sexylara-ws
    env: node
    buildCommand: cd backend && npm install
    startCommand: cd backend && npm run start:ws
    plan: free
    envVars:
      - key: SUPABASE_URL
        sync: false
      - key: SUPABASE_SERVICE_ROLE_KEY
        sync: false
      - key: API_VENICE
        sync: false
      - key: ADDRESS_VENICE
        sync: false
      - key: MODEL_VENICE
        sync: false
      - key: REPLICATE_API_TOKEN
        sync: false
